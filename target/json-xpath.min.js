/*! json-xpath 2015-10-14 */

!function(a){String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();(void 0===b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b}),String.prototype.startsWith||(String.prototype.startsWith=function(a){return this.slice(0,a.length)===a});var b={SEGMENT_SEPARATOR:".",UNWRAP_ARRAY:!0},c=function(a){return a?a.split(b.SEGMENT_SEPARATOR):[]},d=/([!^$*><]?[=])|([><])|(odd|even|first|last)|(\d+[n]{1}[+]{1}\d+)|(\d+)/,e=/\d+/,f=function(a){var b=a.indexOf("[");if(-1==b)return{key:a,exp:null};var c=a.substring(b+1,a.length-1),e=c.match(d);if(e){var f=e[0];if(f==c)return{key:a.substring(0,b),exp:"--location",loc:f};var g=c.substring(0,e.index),h=c.substring(e.index+f.length);return{key:a.substring(0,b),exp:f,left:g,right:h}}return{key:a.substring(0,b),exp:"--property",prop:c}},g={odd:function(a,b){var c=a[b.key];return c&&Array.isArray(c)&&c.length>1?c.filter(function(a,b){return b%2==1}):void 0},even:function(a,b){var c=a[b.key];return c&&Array.isArray(c)?c.length>0?c.filter(function(a,b){return b%2==0}):void 0:c},first:function(a,b){var c=a[b.key];return c&&Array.isArray(c)?c.length>0?c[0]:void 0:c},last:function(a,b){var c=a[b.key];return c&&Array.isArray(c)?c.length>0?c[c.length-1]:void 0:c},n:function(a,b){var c=a[b.key];if(c){if(Array.isArray(c)){var d=parseInt(b.loc);return c.length>d?c[d]:void 0}return"0"==b.loc?c:void 0}return c},"xn+y":function(a,b){var c=a[b.key];if(c){if(Array.isArray(c)){var d=b.loc.match(e),f=parseInt(d[0]),g=parseInt(b.loc.substring(d[0].length+2));return c.filter(function(a,b){return b%f==g})}return"0"==b.loc?c:void 0}return c},"op_=":function(a,b){return g.__compare(a,b,function(a,b){return g.__convertValueToString(a)==b})},"op_!=":function(a,b){return g.__compare(a,b,function(a,b){return g.__convertValueToString(a)!=b})},"op_$=":function(a,b){return g.__compare(a,b,function(a,b){return null!=a&&a.endsWith(b)})},"op_^=":function(a,b){return g.__compare(a,b,function(a,b){return null!=a&&a.startsWith(b)})},"op_*=":function(a,b){return g.__compare(a,b,function(a,b){return null!=a&&-1!=a.indexOf(b)})},"op_>":function(a,b){return g.__compare(a,b,function(a,b){return null==a?!1:"number"==typeof a?a>1*b:g.__convertValueToString(a)>b})},"op_>=":function(a,b){return g.__compare(a,b,function(a,b){return null==a?!1:"number"==typeof a?a>=1*b:g.__convertValueToString(a)>=b})},"op_<":function(a,b){return g.__compare(a,b,function(a,b){return null==a?!1:"number"==typeof a?1*b>a:g.__convertValueToString(a)<b})},"op_<=":function(a,b){return g.__compare(a,b,function(a,b){return null==a?!1:"number"==typeof a?1*b>=a:g.__convertValueToString(a)<=b})},__compare:function(a,b,c){var d=a[b.key];return d?Array.isArray(d)?d.filter(function(a){return c(a[b.left],b.right)?a:void 0}):c(d[b.left],b.right)?d:void 0:void 0},__convertValueToString:function(a){return null==a?"null":a instanceof Date?""+a.getFullYear()+(a.getMonth()+1)+a.getDate()+a.getHours()+a.getMinutes()+a.getSeconds():"number"==typeof a?""+a:"boolean"==typeof a?a?"true":"false":a}},h=function(a,b){var c=a[b.key];return c?Array.isArray(c)?c.filter(function(a){return void 0!==a[b.prop]?a:void 0}):void 0!==c[b.prop]?c:void 0:void 0},i=function(a,b,c){var d=f(b);if(null==d.exp)return null==a[d.key]?null:a[d.key];if("--property"==d.exp)return h(a,d);if("--location"==d.exp){var e=g[d.loc];return e?e(a,d):-1==d.loc.indexOf("n")?g.n(a,d):g["xn+y"](a,d)}return g["op_"+d.exp](a,d)},j=function(a){var b=[];return a.forEach(function(a){Array.isArray(a)?b.push.apply(b,a):b.push(a)}),b},k=function(a,d){if(!d)return a;for(var e=c(d),f=[a],g=0,h=e.length,k=function(a,b){return i(a,e[g],b)};h>g;g++){var l=f.map(k);l=j(l),f=g!=h-1?l.filter(function(a){return null!=a}):l}if(f=f.filter(function(a){return void 0!==a}),!b.UNWRAP_ARRAY)return f;switch(f.length){case 0:return void 0;case 1:return f[0];default:return f}};b.__parsePathToSegments=c,b.__parseSegment=f,b.get=k,a.JSONXPath=b}(this);
//# sourceMappingURL=json-xpath.min.js.map